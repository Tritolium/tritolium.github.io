"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[880],{5396:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(579);const s=e=>{switch(e){default:return"";case 0:return"Sonntag";case 1:return"Montag";case 2:return"Dienstag";case 3:return"Mittwoch";case 4:return"Donnerstag";case 5:return"Freitag";case 6:return"Samstag"}},a=e=>{switch(e){default:return"";case 0:return"Januar";case 1:return"Februar";case 2:return"M\xe4rz";case 3:return"April";case 4:return"Mai";case 5:return"Juni";case 6:return"Juli";case 7:return"August";case 8:return"September";case 9:return"Oktober";case 10:return"November";case 11:return"Dezember"}},i=e=>{let{dateprops:n}=e;const t=new Date(n.Date),i=s(t.getDay()),l=t.getDate(),d=t.getMonth(),c=t.getFullYear();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"event_type",children:[n.Type," ",n.Location]}),(0,r.jsxs)("div",{className:"event_date",children:[l,". ",a(d)," ",c]}),(0,r.jsx)("div",{className:"event_day",children:i})]})}},9880:(e,n,t)=>{t.r(n),t.d(n,{Zusage:()=>D,default:()=>T});var r,s,a,i,l=t(5043),d=t(3163),c=t(5396),o=t(7528),h=t(403);const u=h.Ay.div(r||(r=(0,o.A)(["\n    display: flex;\n    flex-direction: column;\n    align-content: center;\n    margin: auto;\n    align-items: center;\n\n    select {\n        width: fit-content;\n    }\n"]))),m=h.Ay.div(s||(s=(0,o.A)(["\n    display: grid;\n    border-bottom: 1px solid ",";\n    overflox: auto;\n\n    .Header {\n        position: sticky;\n        top: 0;\n        z-index: 8;\n        background-color: ",";\n    }\n\n    .Date {\n        grid-row: 1;\n        grid-column: 1;\n    }\n\n    .NameTag {\n        grid-row: 1;\n        font-weight: bold;\n        padding: 2px;\n        cursor: pointer;\n        border: 1px solid ",";\n    }\n\n    .NameTagActive {\n        grid-row: 1;\n        font-weight: bold;\n        padding: 2px;\n        cursor: pointer;\n        background-color: ",";\n        color: ",";\n        border-radius: 5px;\n        border: 1px solid ",";\n        cursor: pointer;\n    }\n\n    .DateTag {\n        grid-column: 1;\n        text-align: center;\n        border-left: 1px solid ",";\n        border-top: 1px solid ",";\n        border-right: 1px solid ",";\n        position: sticky;\n        left: 0;\n        z-index: 5;\n        background-color: ",";\n    }\n\n    .AttendenceTag {\n        position: relative;\n        min-width: 32px;\n        min-height: 32px;\n        padding: 5px;\n\n        border-left: 1px solid ",";\n        border-top: 1px solid ",";\n\n        :nth-child(1) {\n            z-index: 3;\n        }\n    }\n\n    .Last {\n        border-right: 1px solid ",";\n    }\n\n    .IconWrapper {\n        width: 32px;\n        height: 32px;\n        position: absolute;\n\n        left: 50%;\n        top: 50%;\n\n        transform: translateX(-50%) translateY(-50%);\n    }\n\n    .PlusOneIcon {\n        width: 18px;\n    }\n\n    @media (max-width: ",") {\n        display: none;\n    }\n"])),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryDark}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryDark}),(e=>{let{theme:n}=e;return n.primaryDark}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryDark}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.mobile})),p=h.Ay.table(a||(a=(0,o.A)(["\n    border-collapse: collapse;\n    position: relative;\n    margin: 0 2px 0 2px;\n\n    tr {\n        max-height: 100px;\n    }\n\n    td {\n        text-align: center;\n        border: 1px solid ",";\n\n        > img {\n            min-width: 15px;\n            width: 100%;\n            max-width: 30px;\n        }\n    }\n\n    @media (max-width: ",") {\n        thead, td {\n            display: none;\n        }\n    }\n"])),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.mobile})),x=h.Ay.div(i||(i=(0,o.A)(["\n    @media (min-width: ",") {\n        div {\n            display: none;\n        }\n    }\n"])),(e=>{let{theme:n}=e;return n.mobile}));var g=t(7658),j=t(6058),b=t(579);const y=e=>{let{event:n,theme:t}=e;g.t1.register(g.PP,g.kc,g.E8,g.hE,g.m_,g.s$);const r={labels:[""],datasets:[{data:[n.Consent],backgroundColor:t.greenRGB},{data:[n.ProbAttending],backgroundColor:t.lightgreenRGB},{data:[n.Maybe],backgroundColor:t.yellowRGB},{data:[n.ProbMissing],backgroundColor:t.lightredRGB},{data:[n.Refusal],backgroundColor:t.redRGB}]};return(0,b.jsxs)(x,{children:[(0,b.jsx)(c.A,{dateprops:n}),(0,b.jsx)(j.yP,{height:"60px",options:{indexAxis:"y",plugins:{title:{display:!1},legend:{display:!1}},responsive:!1,scales:{x:{stacked:!0,display:!1},y:{stacked:!0}}},data:r})]})};var v=t(4294),A=t(5394);const k=e=>{let{attendences:n,theme:t}=e;return(0,b.jsxs)(m,{children:[(0,b.jsx)("span",{className:"Date Header",children:"Termin:"}),n[0].Attendences.map((e=>(0,b.jsx)(w,{Fullname:e.Fullname},e.Fullname))),n.map((e=>(0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)("span",{className:"DateTag",children:(0,b.jsx)(c.A,{dateprops:e})},e.Event_ID),e.Attendences.map(((n,r)=>{const s=r===e.Attendences.length-1?"AttendenceTag Last":"AttendenceTag";return(0,b.jsx)("span",{className:s,children:(0,b.jsx)(D,{attendence:n.Attendence,plusone:n.PlusOne,theme:t})},n.Fullname+e.Event_ID)}))]},"row_".concat(e.Event_ID))))]})},w=e=>{let{Fullname:n}=e;const[t,r]=(0,l.useState)(!1),s=n.split(" ")[0].slice(0,2)+n.split(" ")[1][0];return(0,b.jsx)("span",{className:t?"NameTagActive Header":"NameTag Header",onClick:()=>{r(!t)},children:t?n:s})};var f=t(5467);const D=e=>{let{attendence:n,plusone:t,theme:r}=e;if(1===n&&1===t)return(0,b.jsx)(v.j_,{theme:r,className:"PlusOneIcon"});switch(n){default:case-1:return(0,b.jsx)(v.hA,{theme:r});case 0:return(0,b.jsx)(v.hf,{theme:r});case 1:return(0,b.jsx)(v.Jl,{theme:r});case 2:return(0,b.jsx)(v.Fc,{theme:r})}},I=e=>{let{evaluation:n,theme:t}=e;return(0,b.jsxs)(p,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Termin"}),(0,b.jsx)("th",{colSpan:2,children:"Zu."}),(0,b.jsx)("th",{children:"Ab."}),(0,b.jsx)("th",{children:"Aus."}),(0,b.jsx)("th",{children:"Vllt."}),(0,b.jsx)("th",{children:"M"}),(0,b.jsx)("th",{children:"S"}),(0,b.jsx)("th",{children:"A"}),(0,b.jsx)("th",{children:"D"}),(0,b.jsx)("th",{children:"T"}),(0,b.jsx)("th",{children:"L"}),(0,b.jsx)("th",{children:"Tr"}),(0,b.jsx)("th",{children:"B"}),(0,b.jsx)("th",{children:"P"})]})}),(0,b.jsx)("tbody",{children:n.map((e=>(0,b.jsx)(_,{event:e,theme:t},"eval_".concat(e.Event_ID))))})]})},_=e=>{let{event:n,theme:t}=e;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)(c.A,{dateprops:n})}),(0,b.jsx)("td",{colSpan:n.PlusOne?1:2,children:n.Consent}),n.PlusOne?(0,b.jsxs)("td",{children:["+",n.PlusOne]}):(0,b.jsx)(b.Fragment,{}),(0,b.jsx)("td",{children:n.Refusal}),(0,b.jsx)("td",{children:n.Missing}),(0,b.jsx)("td",{children:n.Maybe}),(0,b.jsx)("td",{children:n.Instruments.Major}),(0,b.jsx)("td",{children:n.Instruments.Sopran}),(0,b.jsx)("td",{children:n.Instruments.Diskant}),(0,b.jsx)("td",{children:n.Instruments.Alt}),(0,b.jsx)("td",{children:n.Instruments.Tenor}),(0,b.jsx)("td",{children:n.Instruments.Lyra}),(0,b.jsx)("td",{children:n.Instruments.Trommel}),(0,b.jsx)("td",{children:n.Instruments.Becken}),(0,b.jsx)("td",{children:n.Instruments.Pauke}),(0,b.jsx)(y,{event:n,theme:t})]})},T=e=>{let{theme:n}=e;const[t,r]=(0,l.useState)(new Array(0)),[s,a]=(0,l.useState)(),[i,c]=(0,l.useState)(new Array(0)),[o,h]=(0,l.useState)(new Array(0)),m=(0,l.useCallback)((async()=>{let e=await(0,d.Kp)(s);c(e)}),[s]),p=(0,l.useCallback)((async()=>{let e=await(0,d.Ms)(s);h(e)}),[s]),x=(0,l.useCallback)((e=>{a(e.target.value)}),[a]),g=(0,l.useCallback)((()=>{m(),p()}),[m,p]);return(0,l.useEffect)((()=>{(async()=>{let e=await(0,d.iJ)();e=e.filter((e=>(0,f._m)(7,e.Association_ID))),r(e)})(),g()}),[g]),0===i.length?(0,b.jsx)("select",{name:"usergroup",id:"usergroup_select",onChange:x,children:t.map(((e,n)=>(0,b.jsx)("option",{value:e.Usergroup_ID,children:e.Title},n)))}):(0,b.jsxs)(u,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("select",{name:"usergroup",id:"usergroup_select",onChange:x,children:t.map(((e,n)=>(0,b.jsx)("option",{value:e.Usergroup_ID,children:e.Title},n)))}),(0,b.jsx)(A.UF6,{onClick:g})]}),(0,b.jsx)(k,{attendences:i,theme:n}),(0,b.jsx)(I,{evaluation:o,theme:n})]})}}}]);
//# sourceMappingURL=880.264792c0.chunk.js.map