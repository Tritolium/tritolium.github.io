"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[440],{7440:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var r,l,a=t(9060),i=t(7952),d=t(2680),s=t(7008),c=t(3876),o=t(2024),m=t(4312),u=t(360);const h=u.cp.div(r||(r=(0,m.c)(["\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    width: 100%;\n\n    form {\n        display: flex;\n        flex-direction: column;\n    }\n"]))),b=u.cp.div(l||(l=(0,m.c)(["\n    user-select: none;\n    cursor: pointer;\n    padding: 2px;\n    border-radius: 5px;\n\n    &:hover {\n        background: ",";\n    }\n"])),(e=>{let{theme:n}=e;return n.primaryHover}));var p=t(2496);const x=e=>{let{members:n,onSelect:t}=e;return(0,p.jsx)(c.c,{children:n.map((e=>(0,p.jsx)(v,{onSelect:t,member:e},e.Member_ID)))})},v=e=>{let{member:n,onSelect:t}=e;const r=(0,a.useCallback)((()=>{t(n.Member_ID)}),[t,n.Member_ID]);return(0,p.jsxs)(b,{onClick:r,children:[n.Surname,", ",n.Forename]})},f=e=>{let{member:n,reload:t}=e;const[r,l]=(0,a.useState)({});(0,a.useEffect)((()=>{document.getElementById("memberform_form").reset(),document.getElementById("auth_level").selectedIndex=null===n||void 0===n?void 0:n.Auth_level,l({})}),[n]);return(0,p.jsxs)(d.c,{id:"memberform_form",children:[(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"forename",children:"Vorname:"}),(0,p.jsx)("input",{type:"text",name:"forename",id:"forename",defaultValue:null===n||void 0===n?void 0:n.Forename})]}),(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"surname",children:"Nachname:"}),(0,p.jsx)("input",{type:"text",name:"surname",id:"surname",defaultValue:null===n||void 0===n?void 0:n.Surname})]}),(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"auth_level",children:"Zugriffslevel:"}),(0,p.jsxs)("select",{name:"auth_level",id:"auth_level",children:[(0,p.jsx)("option",{value:"0",children:"ohne"}),(0,p.jsx)("option",{value:"1",children:"Mitglied"}),(0,p.jsx)("option",{value:"2",children:"Vorstand"}),(0,p.jsx)("option",{value:"3",children:"Admin"})]})]}),(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"nicknames",children:"Kurz:"}),(0,p.jsx)("input",{type:"text",name:"nicknames",id:"nicknames",defaultValue:null===n||void 0===n?void 0:n.Nicknames})]}),(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"instrument",children:"Instrument:"}),(0,p.jsx)("input",{type:"text",name:"instrument",id:"instrument",defaultValue:null===n||void 0===n?void 0:n.Instrument})]}),(0,p.jsxs)(s.c,{children:[(0,p.jsx)("label",{htmlFor:"birthdate",children:"Geburtstag:"}),(0,p.jsx)("input",{type:"date",id:"birthdate",defaultValue:null===n||void 0===n?void 0:n.Birthdate})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(i.default,{onClick:async e=>{e.preventDefault(),t()},children:"Abbrechen"}),(0,p.jsx)(i.default,{onClick:async e=>{e.preventDefault();let l=document.getElementById("forename").value,a=document.getElementById("surname").value,i=document.getElementById("auth_level").options[document.getElementById("auth_level").selectedIndex].value,d=document.getElementById("nicknames").value,s=document.getElementById("instrument").value,c=document.getElementById("birthdate").value;void 0!==n?await(0,o._c)(n.Member_ID,l,a,i,d,s,c,r):await(0,o.mk)(l,a,i,d,s,c),t()},children:"Speichern"})]})]})},j=e=>{let{members:n,reload:t}=e;const[r,l]=(0,a.useState)(-1),i=(0,a.useCallback)((()=>{l(-1),t()}),[t]),d=(0,a.useCallback)((e=>{l(e)}),[]);return(0,p.jsxs)(h,{children:[(0,p.jsx)(x,{onSelect:d,members:n}),(0,p.jsx)(f,{member:n.find((e=>e.Member_ID===r)),reload:i})]})};var k=t(5100);const y=(0,a.lazy)((()=>t.e(644).then(t.bind(t,2264)))),w=e=>{let{view:n,members:t,reload:r}=e;switch(n){default:case 0:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)("div",{children:"\xdcbersicht l\xe4dt"}),children:(0,p.jsx)(y,{members:t})});case 1:return(0,p.jsx)(j,{members:t,reload:r})}},g=e=>{const[n,t]=(0,a.useState)(0),[r,l]=(0,a.useState)(new Array(0)),d=(0,a.useCallback)((async()=>{let e=await(0,o.Ou)();l(void 0!==e?e:new Array(0))}),[]);(0,a.useEffect)((()=>{d()}),[d]);const s=(0,a.useCallback)((()=>{d()}),[d]),c=e=>{switch(e.target.id){default:case"member_button_0":t(0);break;case"member_button_1":t(1)}};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(k.c,{children:[(0,p.jsx)(i.default,{id:"member_button_0",type:"button",onClick:c,children:"\xdcbersicht"}),e.auth_level>2?(0,p.jsx)(i.default,{id:"member_button_1",type:"button",onClick:c,children:"Stammdaten"}):(0,p.jsx)(p.Fragment,{})]}),(0,p.jsx)(w,{view:n,members:r,reload:s})]})}},2680:(e,n,t)=>{t.d(n,{c:()=>a});var r,l=t(4312);const a=t(360).cp.form(r||(r=(0,l.c)(["\n    display: block;\n    width: 100%;\n    padding: 5px;\n"])))},7008:(e,n,t)=>{t.d(n,{c:()=>a});var r,l=t(4312);const a=t(360).cp.div(r||(r=(0,l.c)(["\n    display: block;\n    padding: 2px;\n    label {\n        float: left;\n        width: 25%;\n        min-width: 100px;\n    }\n"])))},3876:(e,n,t)=>{t.d(n,{c:()=>a});var r,l=t(4312);const a=t(360).cp.nav(r||(r=(0,l.c)(["\n    margin: 2px;\n    padding: 2px;\n    white-space: nowrap;\n    border: 1px solid ",";\n    border-radius: 10px;\n    overflow-y: scroll;\n    max-height: 75vh;\n    min-width: fit-content;\n    width: auto;\n    max-width: fit-content;\n\n\n    @media (max-width: ",") {\n        white-space: normal;\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: none;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background: ",";\n    }\n"])),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.mobile}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryHover}))},5100:(e,n,t)=>{t.d(n,{c:()=>a});var r,l=t(4312);const a=t(360).cp.nav(r||(r=(0,l.c)(["\n    display: flex;\n    background-color: ",";\n    position: relative;\n    padding: 5px;\n    margin: 5px;\n    border-radius: 20px;\n\n    flex-wrap: wrap;\n    justify-content: center;\n"])),(e=>{let{theme:n}=e;return n.primaryHover}))}}]);
//# sourceMappingURL=440.5227abb3.chunk.js.map