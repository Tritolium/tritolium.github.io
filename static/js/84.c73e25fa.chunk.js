"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[84],{3084:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var a,r=t(9060),l=t(7952),s=t(5100),c=t(4312),i=t(360);const o=i.cp.div(a||(a=(0,c.c)(["\n    border-radius: 5px;\n    padding: 5px 10px;\n    background: ",";\n    color: ",";\n    margin: 2px;\n    text-align: center;\n    width: fit-content;\n    font-size: 1.25em;\n    cursor: default;\n\n    :hover {\n        color: ",";\n    }\n"])),(e=>{let{theme:n}=e;return n.primaryHover}),(e=>{let{theme:n}=e;return n.primaryLight}),(e=>{let{theme:n}=e;return n.primaryDark}));var d,u=t(2024),h=t(1552);const m=i.cp.form(d||(d=(0,c.c)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    flex-wrap: nowrap;\n\n    @media screen and (max-width: 720px) {\n        flex-direction: column;\n        > select {\n            width: 100%\n        }\n    }\n\n    > select {\n        max-height: 40px;\n        padding: 5px;\n        margin: 5px;\n    }\n    > img {\n        padding: 2px;\n        min-height: 21px;\n        height: 10vh;\n        max-height: 64px;\n    }\n"])));var p=t(6004),x=t(2496);const v=e=>{let{theme:n}=e;const[t,a]=(0,r.useState)(-1),[l,s]=(0,r.useState)(!1),[c,i]=(0,r.useState)(new Array(0)),[d,v]=(0,r.useState)(new Array(0)),[g,b]=(0,r.useState)(new Array(0)),[k,j]=(0,r.useState)(-1);(0,r.useEffect)((()=>{(async()=>{let e=await(0,u.Ki)("current");v(e)})(),(async()=>{let e=await(0,u.Ou)();b(e),i(e[0].Usergroups)})()}),[]);const f=(0,r.useCallback)(((e,n)=>{a(n)}),[]),_=(0,r.useCallback)((e=>{"all"===e.target.value?j(-1):j(parseInt(e.target.value))}),[j]);return(0,x.jsxs)(m,{children:[(0,x.jsxs)("select",{id:"usergroup_select",onChange:_,children:[(0,x.jsx)("option",{value:"all",children:"Alle"},"usergroup_all"),c.map((e=>(0,x.jsx)("option",{value:e.Usergroup_ID,children:e.Title},"usergroup_".concat(e.Usergroup_ID))))]}),(0,x.jsx)("select",{id:"event_select",children:d.filter((e=>-1===k||e.Usergroup_ID===k)).map((e=>(0,x.jsxs)("option",{value:e.Event_ID,children:[e.Date,": ",e.Type," ",e.Location]},"event_".concat(e.Event_ID))))}),(0,x.jsx)("select",{id:"member_select",children:g.filter((e=>{if(-1===k)return!0;for(let n of e.Usergroups)if(parseInt(n.Usergroup_ID)===k)return n.Assigned;return!1})).map((e=>(0,x.jsxs)("option",{value:e.Member_ID,children:[e.Forename," ",e.Surname]},"member_".concat(e.Member_ID))))}),(0,x.jsx)(h.cp,{states:3,attendence:t,onClick:f,theme:n}),(0,x.jsx)(p.c,{plusOne:l,onClick:()=>{s(!l)},active:1===t,theme:n}),(0,x.jsx)(o,{type:"submit",onClick:()=>{let e=document.getElementById("event_select"),n=document.getElementById("member_select"),a=e.options[e.selectedIndex].value,r=n.options[n.selectedIndex].value;(0,u.SK)(a,r,t,l)},children:"Abschicken"})]})},g=(0,r.lazy)((()=>t.e(208).then(t.bind(t,3208)))),b=(0,r.lazy)((()=>Promise.all([t.e(80),t.e(484)]).then(t.bind(t,6484)))),k=[{Type:"FT",Location:"Oelinghauserheide",Date:"14. Mai 2022",Day_of_Week:"Samstag"},{Type:"SF",Location:"Ennest",Date:"17. Juli 2022",Day_of_Week:"Sonntag"}],j=e=>{switch(e.view){default:case 0:return(0,x.jsx)(r.Suspense,{children:(0,x.jsx)(g,{dates:k,fullname:e.fullname,theme:e.theme})});case 1:return(0,x.jsx)(r.Suspense,{children:(0,x.jsx)(b,{dates:k,theme:e.theme})});case 2:return(0,x.jsx)(r.Suspense,{children:(0,x.jsx)(v,{theme:e.theme})})}},f=e=>{const[n,t]=(0,r.useState)(0),a=e=>{switch(e.target.id){default:case"date_button_0":t(0);break;case"date_button_1":t(1);break;case"date_button_2":t(2)}};return(0,x.jsxs)(x.Fragment,{children:[e.auth_level>1?(0,x.jsxs)(s.c,{children:[(0,x.jsx)(l.default,{id:"date_button_0",font_size:"1rem",onClick:a,children:"Eingabe"}),(0,x.jsx)(l.default,{id:"date_button_1",font_size:"1rem",onClick:a,children:"\xdcbersicht"}),e.auth_level>2?(0,x.jsx)(l.default,{id:"date_button_2",font_size:"1rem",onClick:a,children:"manuelle Eingabe"}):(0,x.jsx)(x.Fragment,{})]}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)(j,{view:n,fullname:e.fullname,theme:e.theme})]})}},1552:(e,n,t)=>{t.d(n,{_C:()=>g,gZ:()=>p,m_:()=>x,eI:()=>j,Mn:()=>v,oH:()=>k,_:()=>f,mS:()=>b,cp:()=>w});var a,r=t(9060),l=t(912),s=t(6792),c=t(4312);const i=t(360).cp.div(a||(a=(0,c.c)(["\n\n    position: relative;\n    height: 64px;\n    width: 64px;\n\n    :nth-child(1) {\n        z-index: 3;\n    }\n\n    :nth-child(1) {\n        z-index: 2;\n    }\n\n    .IconWrapper {\n        position: absolute;\n    }\n\n    svg {\n        height: 100%;\n        width: 100%;\n    }\n\n    .LoadingSpinner {\n        animation: spin 1s linear infinite;\n\n        @keyframes spin {\n            0% {transform: rotate(0deg);}\n            100% {transform: rotate(360deg);}\n        }\n    }\n"])));var o=t(2320),d=t(5840),u=t(5164),h=t(2496);const m=e=>{switch(e.attendence){default:case-1:return(0,h.jsx)(p,{callback:e.callback,theme:e.theme});case 0:return(0,h.jsx)(v,{callback:e.callback,theme:e.theme});case 1:return(0,h.jsx)(x,{callback:e.callback,theme:e.theme});case 2:return(0,h.jsx)(g,{callback:e.callback,theme:e.theme})}},p=e=>{let{callback:n,size:t,theme:a}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:a.blue,className:"IconWrapper"},children:[(0,h.jsx)(l.eMC,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},x=e=>{let{callback:n,theme:t}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:t.green,className:"IconWrapper"},children:[(0,h.jsx)(s.onS,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},v=e=>{let{callback:n,theme:t}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:t.red,className:"IconWrapper"},children:[(0,h.jsx)(l.Cwp,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},g=e=>{let{callback:n,theme:t}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:t.yellow,className:"IconWrapper"},children:[(0,h.jsx)(l.eMC,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},b=e=>{let{callback:n}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:"#904c77",className:"IconWrapper"},children:[(0,h.jsx)(l.olx,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},k=e=>{let{callback:n}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:"#7d7abc",className:"IconWrapper"},children:[(0,h.jsx)(l.eMC,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},j=e=>{let{callback:n}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:"#00bd00",className:"IconWrapper"},children:[(0,h.jsx)(l.Cwp,{size:"100%",onClick:n}),(0,h.jsx)(_,{callback:n})]})},f=e=>{let{callback:n,theme:t,className:a=""}=e;return(0,h.jsxs)(o.mU.Provider,{value:{color:"white",className:"IconWrapper ".concat(a)},children:[(0,h.jsx)(d.o1r,{size:"50%",onClick:n}),(0,h.jsx)(_,{callback:n,fill:t.greenRGB,r:"40.625%"})]})},_=e=>{let{callback:n,fill:t="white",r:a="35%"}=e;return(0,h.jsx)("svg",{size:"100%",className:"IconWrapper",children:(0,h.jsx)("circle",{cx:"50%",cy:"50%",r:a,fill:t,onClick:n})})},w=e=>{const[n,t]=(0,r.useState)(e.attendence),[a,l]=(0,r.useState)(!1),s=(0,r.useCallback)((async()=>{var a;let r=new Date,s=void 0!==e.event?new Date(null===(a=e.event)||void 0===a?void 0:a.Date):void 0;if(s){var c;if(s.setHours(e.event.Begin.split(":")[0]),s.setMinutes(e.event.Begin.split(":")[1]),r.getTime()>s.getTime())return void alert("Du kannst deine Zusage nicht mehr \xe4ndern, da der Termin bereits begonnen hat. Solltest du vergessen haben abzusagen, schick bitte eine WhatsApp.");if("event"===(null===(c=e.event)||void 0===c?void 0:c.Category)&&r.getTime()>s.getTime()-54e5)return void alert("Du kannst deine Zusage nicht mehr \xe4ndern, da der Termin in weniger als 1,5 Stunden beginnt. Schick bitte eine WhatsApp zum An- oder Abmelden.")}let i=(n+1)%e.states;l(!0),await e.onClick(e.event_id,i),l(!1),t(i)}),[e,n]);return(0,r.useEffect)((()=>{t(e.attendence)}),[e.attendence]),(0,h.jsxs)(i,{className:"Terminzusage",children:[e.cancelled?(0,h.jsx)(m,{attendence:0,theme:e.theme}):(0,h.jsx)(m,{callback:s,attendence:n,theme:e.theme}),a?(0,h.jsx)(u.cdQ,{className:"LoadingSpinner"}):null]})}},5100:(e,n,t)=>{t.d(n,{c:()=>l});var a,r=t(4312);const l=t(360).cp.nav(a||(a=(0,r.c)(["\n    display: flex;\n    background-color: ",";\n    position: relative;\n    padding: 5px;\n    margin: 5px;\n    border-radius: 20px;\n\n    flex-wrap: wrap;\n    justify-content: center;\n"])),(e=>{let{theme:n}=e;return n.primaryHover}))},6004:(e,n,t)=>{t.d(n,{c:()=>d});var a,r=t(2320),l=t(5840),s=t(4312);const c=t(360).cp.div.attrs((e=>({className:e.className})))(a||(a=(0,s.c)(["\n    position: relative;\n    height: 64px;\n    width: 64px;\n\n    :nth-child(1) {\n        z-index: 3;\n    }\n\n    :nth-child(1) {\n        z-index: 2;\n    }\n\n    .IconWrapper {\n        position: absolute;\n        max-width: 64px;\n    }\n\n    .UserIcon {\n        top: 25%;\n        left: 25%;\n        height: 50%;\n        width: 50%;\n    }\n\n    svg {\n        top: 0;\n        height: 100%;\n        width: 100%;\n    }\n"])));var i=t(2496);const o=e=>{let{callback:n,active:t,theme:a}=e;return(0,i.jsx)("svg",{className:"IconWrapper",children:(0,i.jsx)("circle",{cx:"50%",cy:"50%",r:"40.625%",fill:t?a.greenRGB:a.blue,onClick:n})})},d=e=>{let{active:n,plusOne:t,onClick:a,theme:s,className:d}=e;return(0,i.jsx)(c,{className:d,children:(0,i.jsxs)(r.mU.Provider,{value:{color:"white",className:"IconWrapper UserIcon"},children:[t&&n?(0,i.jsx)(l.o1r,{onClick:a,size:"50%"}):(0,i.jsx)(l.UQQ,{size:"50%",onClick:a}),(0,i.jsx)(o,{callback:a,active:n,theme:s})]})})}}}]);
//# sourceMappingURL=84.c73e25fa.chunk.js.map