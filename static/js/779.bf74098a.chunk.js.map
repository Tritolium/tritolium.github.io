{"version":3,"file":"static/js/779.bf74098a.chunk.js","mappings":"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","sources":["components/dateplanner/attendenceInput/Termineingabe.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { lazy, Suspense, useCallback, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport SubmitButton from '../../../modules/components/SubmitButton'\nimport { getAttendences, updateAttendences } from '../../../modules/data/DBConnect'\n\nconst AttendenceTable = lazy(() => import('./AttendenceTable'))\n\nconst Termineingabe = ({fullname}) => {\n\n    /**\n     * constant, maybe switch to fetch from server\n     */\n    const ATTENDENCE_STATES = 3\n\n    /**\n     * fetched from server\n     */\n    const [attendences, setAttendences] = useState(new Array(0))\n\n    /**\n     * local states\n     */\n    const [changedAttendences, setChangedAttendences] = useState({})\n    const [selectedDateFilter, setSelectedDateFilter] = useState('all')\n    const [selectedEventFilter, setSelectedEventFilter] = useState('all')\n\n    const fetchEvents = async () => {\n        let _attendences = await getAttendences()\n        if(_attendences !== undefined){\n            setAttendences(_attendences)\n        }\n    }\n\n    const onClick = useCallback((event_id, attendence) => {\n        let att = {...changedAttendences}\n        att['' + event_id] = attendence\n        setChangedAttendences(att)\n    }, [changedAttendences])\n\n    const onDateFilterChange = useCallback(e => {\n        setSelectedDateFilter(e.target.value)\n    }, [setSelectedDateFilter])\n\n    const onEventFilterChange = useCallback(e => {\n        setSelectedEventFilter(e.target.value)\n    }, [setSelectedEventFilter])\n\n    const sendForm = (e) => {\n        e.preventDefault()\n        updateAttendences(changedAttendences)\n        fetchEvents()\n    }\n\n    useEffect(() => {\n        fetchEvents()\n    }, [])\n\n    return(\n        <Form onSubmit={sendForm} className=\"DateInput\">\n            <div>\n                <SubmitButton onClick={sendForm}>Speichern</SubmitButton>\n                <select name='eventSelect' id='eventSelect' title='event select' onChange={onEventFilterChange}>\n                    <option value='all'>Alle</option>\n                    <option value='practice'>Üben/Probe</option>\n                    <option value='else'>Auftritte etc.</option>\n                </select>\n                <select name=\"dateSelect\" id=\"dateSelect\" title='date select' onChange={onDateFilterChange}>\n                    <option value=\"all\">Alle</option>\n                    <option value=\"one\">1 Woche</option>\n                    <option value=\"two\">2 Wochen</option>\n                    <option value=\"four\">4 Wochen</option>\n                    <option value=\"eight\">8 Wochen</option>\n                </select>\n            </div>\n            <Suspense fallback={<div>Tabelle lädt.</div>}>\n                <AttendenceTable attendences={attendences} fullname={fullname} states={ATTENDENCE_STATES} selectedDateFilter={selectedDateFilter} selectedEventFilter={selectedEventFilter} onClick={onClick}/>\n            </Suspense>\n        </Form>\n    )\n}\n\nconst Form = styled.form`\n\n    flex-direction: column;\n\n    @media (max-width: ${({theme}) => theme.mobile}) {\n        padding-bottom: 2rem;\n    }\n    \n    box-sizing: border-box;\n\n    select {\n        padding: 2px;\n        margin: 2px;\n        border-radius: 5px;\n    }\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n    }\n`\n\nexport default Termineingabe","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["AttendenceTable","lazy","Form","styled","form","_templateObject","_taggedTemplateLiteral","_ref3","theme","mobile","_ref","fullname","_useState","useState","Array","_useState2","_slicedToArray","attendences","setAttendences","_useState3","_useState4","changedAttendences","setChangedAttendences","_useState5","_useState6","selectedDateFilter","setSelectedDateFilter","_useState7","_useState8","selectedEventFilter","setSelectedEventFilter","fetchEvents","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_attendences","wrap","_context","prev","next","getAttendences","undefined","sent","stop","apply","arguments","onClick","useCallback","event_id","attendence","att","_objectSpread","onDateFilterChange","e","target","value","onEventFilterChange","sendForm","preventDefault","updateAttendences","useEffect","_jsxs","onSubmit","className","children","_jsx","SubmitButton","name","id","title","onChange","Suspense","fallback","states","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","i","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}