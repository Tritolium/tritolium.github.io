"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[206,763],{2206:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r,i,c,a,s,o,u,l,d,f=t(885),h=t(2791),x=t(7763),m=t(5861),p=t(7757),b=t.n(p),v=t(7918),j=t(168),w=t(6031),Z=w.ZP.div(r||(r=(0,j.Z)(["\n    display: flex;\n    justify-content: center;\n"]))),g=w.ZP.table(i||(i=(0,j.Z)(["\n    td {\n        padding: 5px;\n    }\n"]))),y=t(184),k=function(){var n=(0,h.useState)(new Array(0)),e=(0,f.Z)(n,2),t=e[0],r=e[1];(0,h.useEffect)((function(){var n=function(){var n=(0,m.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.Jr)("current");case 2:void 0!==(e=n.sent)&&r(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var i=function(n){return n=n.split("-"),"".concat(n[2],".").concat(n[1],".").concat(n[0])};return(0,y.jsxs)(g,{children:[t.length>0?(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"von"}),(0,y.jsx)("th",{children:"bis"}),(0,y.jsx)("th",{children:"Bemerkung"})]})}):(0,y.jsx)(y.Fragment,{children:"Keine Abwesenheiten eingetragen"}),(0,y.jsx)("tbody",{children:t.map((function(n){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:i(n.From)}),(0,y.jsx)("td",{children:i(n.Until)}),(0,y.jsx)("td",{children:n.Info})]},n.Absence_ID)}))})]})},_=function(){return(0,y.jsx)(Z,{children:(0,y.jsx)(k,{})})},I=w.ZP.div(c||(c=(0,j.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),F=w.ZP.div(a||(a=(0,j.Z)(["\n    width: 100%;\n"]))),D=t(97),E=t(8709),B=w.ZP.div(s||(s=(0,j.Z)(["\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    width: 100%;\n"]))),P=w.ZP.form(o||(o=(0,j.Z)(["\n    display: block;\n    width: 100%;\n    padding: 5px;\n"]))),A=w.ZP.div(u||(u=(0,j.Z)(["\n    display: block;\n    padding: 2px;\n    label {\n        float: left;\n        width: 25%;\n        min-width: 100px;\n    }\n"]))),C=function(n){var e=n.absences,t=n.onSelect;return(0,y.jsx)(D.Z,{children:e.map((function(n){return(0,y.jsx)(S,{onSelect:t,absence:n},n.Absence_ID)}))})},S=function(n){var e=n.absence,t=n.onSelect,r=(0,h.useCallback)((function(){t(e.Absence_ID)}),[t,e.Absence_ID]),i=function(n){return n=n.split("-"),"".concat(n[2],".").concat(n[1],".").concat(n[0])};return(0,y.jsxs)(E.Z,{onClick:r,children:[i(e.From)," - ",i(e.Until)]})},z=function(n){var e=n.selected,t=n.reload,r=(0,h.useState)({Absence_ID:-1,From:"",Until:"",Info:""}),i=(0,f.Z)(r,2),c=i[0],a=i[1];(0,h.useEffect)((function(){var n=function(){var n=(0,m.Z)(b().mark((function n(){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.fN)(e);case 2:void 0!==(t=n.sent)&&a(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,h.useEffect)((function(){document.getElementById("absenceeditor").reset()}),[c]);var s=function(n){n.preventDefault(),a({Absence_ID:-1,From:"",Until:"",Info:""})},o=function(){var n=(0,m.Z)(b().mark((function n(e){var r,i,c,a;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),i=document.getElementById("from").value,c=document.getElementById("until").value,a=document.getElementById("info").value,r=""===c?i:c,n.next=7,(0,v.xE)(i,r,a);case 7:t(),s(e);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,m.Z)(b().mark((function n(e){var r,i,a,u;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(c.Absence_ID<0)){n.next=4;break}return o(e),n.abrupt("return");case 4:return i=document.getElementById("from").value,a=document.getElementById("until").value,u=document.getElementById("info").value,r=""===a?i:a,n.next=10,(0,v.qL)(c.Absence_ID,c.Member_ID,i,r,u);case 10:t(),s(e);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,m.Z)(b().mark((function n(e){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(c.Absence_ID>0)){n.next=4;break}return n.next=4,(0,v.lZ)(c.Absence_ID);case 4:t(),s(e);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(P,{id:"absenceeditor",children:[(0,y.jsxs)(A,{children:[(0,y.jsx)("label",{htmlFor:"from",children:"Von:"}),(0,y.jsx)("input",{type:"date",name:"from",id:"from",defaultValue:c.From})]}),(0,y.jsxs)(A,{children:[(0,y.jsx)("label",{htmlFor:"until",children:"Bis:"}),(0,y.jsx)("input",{type:"date",name:"until",id:"until",defaultValue:c.Until})]}),(0,y.jsxs)(A,{children:[(0,y.jsx)("label",{htmlFor:"info",children:"Bemerkung:"}),(0,y.jsx)("textarea",{name:"info",id:"info",cols:"30",rows:"3",defaultValue:c.Info})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(x.default,{onClick:s,children:"Abbrechen"}),(0,y.jsx)(x.default,{onClick:u,children:"Speichern"}),(0,y.jsx)(x.default,{onClick:l,children:"L\xf6schen"})]})]})})},L=function(){var n=(0,h.useState)(new Array(0)),e=(0,f.Z)(n,2),t=e[0],r=e[1],i=(0,h.useState)(-1),c=(0,f.Z)(i,2),a=c[0],s=c[1],o=(0,h.useCallback)((0,m.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.Jr)("current");case 2:e=n.sent,r(void 0!==e?e:new Array(0));case 4:case"end":return n.stop()}}),n)}))),[]),u=(0,h.useCallback)((function(){o()}),[o]),l=(0,h.useCallback)((function(n){s(n)}),[]);return(0,h.useEffect)((function(){o()}),[o]),(0,y.jsxs)(B,{children:[(0,y.jsx)(C,{onSelect:l,absences:t}),(0,y.jsx)(z,{selected:a,reload:u})]})},U=t(7489),H=t(7741),V=w.ZP.div(l||(l=(0,j.Z)(["\n    display: flex;\n    justify-content: center;\n    text-align: center;\n"]))),M=function(){var n=(0,h.useState)(new Array(0)),e=(0,f.Z)(n,2),t=e[0],r=e[1],i=(0,h.useCallback)((0,m.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.l)("current");case 2:void 0!==(e=n.sent)&&r(e);case 4:case"end":return n.stop()}}),n)}))),[]),c=function(n){return n=n.split("-"),"".concat(n[2],".").concat(n[1],".").concat(n[0])};return(0,h.useEffect)((function(){i()}),[i]),(0,y.jsxs)(H.k6,{children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Name"}),(0,y.jsx)("th",{children:"von"}),(0,y.jsx)("th",{children:"bis"}),(0,y.jsx)("th",{children:"Bemerkung"})]})}),(0,y.jsx)("tbody",{children:t.map((function(n){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:n.Fullname}),(0,y.jsx)("td",{children:c(n.From)}),(0,y.jsx)("td",{children:c(n.Until)}),(0,y.jsx)("td",{children:n.Info})]},n.Fullname+n.From)}))})]})},N=function(){return(0,y.jsx)(V,{children:(0,y.jsx)(M,{})})},J=t(71),q=t(7480),G=w.ZP.div(d||(d=(0,j.Z)(["\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    width: 100%;\n"]))),K=function(){var n=(0,h.useState)(new Array(0)),e=(0,f.Z)(n,2),t=e[0],r=e[1],i=(0,h.useCallback)((0,m.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.Zw)();case 2:e=n.sent,r(e);case 4:case"end":return n.stop()}}),n)}))),[]),c=function(n){n.preventDefault(),document.getElementById("absence_form").reset()},a=function(){var n=(0,m.Z)(b().mark((function n(e){var t,r,i,a,s;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=document.getElementById("member_select"),r=t.options[t.selectedIndex].value,i=document.getElementById("from").value,a=document.getElementById("until").value,s=document.getElementById("info").value,n.next=8,(0,v.sk)(r,i,a,s);case 8:c(e);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,h.useEffect)((function(){i()}),[i]),(0,y.jsx)(G,{children:(0,y.jsxs)(J.Z,{id:"absence_form",children:[(0,y.jsxs)(q.Z,{children:[(0,y.jsx)("label",{htmlFor:"member_select",children:"Name:"}),(0,y.jsx)("select",{id:"member_select",children:t.map((function(n){return(0,y.jsxs)("option",{value:n.Member_ID,children:[n.Forename," ",n.Surname]},"member_".concat(n.Member_ID))}))})]}),(0,y.jsxs)(q.Z,{children:[(0,y.jsx)("label",{htmlFor:"from",children:"Von:"}),(0,y.jsx)("input",{type:"date",name:"from",id:"from"})]}),(0,y.jsxs)(q.Z,{children:[(0,y.jsx)("label",{htmlFor:"until",children:"Bis:"}),(0,y.jsx)("input",{type:"date",name:"until",id:"until"})]}),(0,y.jsxs)(q.Z,{children:[(0,y.jsx)("label",{htmlFor:"info",children:"Bemerkung:"}),(0,y.jsx)("textarea",{name:"info",id:"info",cols:"30",rows:"3"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(x.default,{onClick:c,children:"Abbrechen"}),(0,y.jsx)(x.default,{onClick:a,children:"Speichern"})]})]})})},R=function(n){switch(n.view){default:case 0:return(0,y.jsx)(F,{children:(0,y.jsx)(_,{})});case 1:return(0,y.jsx)(F,{children:(0,y.jsx)(L,{})});case 2:return(0,y.jsx)(F,{children:(0,y.jsx)(N,{})});case 3:return(0,y.jsx)(F,{children:(0,y.jsx)(K,{})})}},O=function(n){var e=n.auth_level,t=(0,h.useState)(0),r=(0,f.Z)(t,2),i=r[0],c=r[1],a=function(n){switch(n.target.id){default:case"absence_button_0":c(0);break;case"absence_button_1":c(1);break;case"absence_button_2":c(2);break;case"absence_button_3":c(3)}};return(0,y.jsxs)(I,{children:[(0,y.jsxs)(U.Z,{children:[(0,y.jsx)(x.default,{id:"absence_button_0",onClick:a,children:"\xdcbersicht"}),(0,y.jsx)(x.default,{id:"absence_button_1",onClick:a,children:"Eingabe"}),e>2?(0,y.jsx)(x.default,{id:"absence_button_2",onClick:a,children:"Gesamt\xfcbersicht"}):(0,y.jsx)(y.Fragment,{}),e>2?(0,y.jsx)(x.default,{id:"absence_button_3",onClick:a,children:"manuelle Eingabe"}):(0,y.jsx)(y.Fragment,{})]}),(0,y.jsx)(R,{view:i})]})}},7741:function(n,e,t){t.d(e,{Du:function(){return u},FB:function(){return d},RH:function(){return f},k6:function(){return l}});var r,i,c,a,s=t(168),o=t(6031),u=o.ZP.div(r||(r=(0,s.Z)(["\n    display: block;\n    text-align: center;\n    select {\n        padding: 5px;\n        margin: 10px;\n        border-radius: 5px;\n    }\n"]))),l=o.ZP.table(i||(i=(0,s.Z)(["\n    margin: 5px;\n    border: 1px solid ",";\n    border-radius: 10px;\n    /*border-collapse: collapse;*/\n    border-spacing: 0;\n    width: auto;\n\n    display: table;\n\n    th {\n        border-bottom: 1px solid ",";\n        padding: 5px;\n    }\n\n    td {\n        border-top: 1px solid ",";\n        padding: 5px;\n        white-space: nowrap;\n    }\n\n    td:first-child {\n        white-space: normal;\n    }\n\n    img {\n        max-width: 32px;\n    }\n\n    @media (max-width: ",") {\n        font-size: 0.75em;\n    }\n"])),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.mobile})),d=(0,o.ZP)(l)(c||(c=(0,s.Z)(["\n    display: table;\n    @media (max-width: ",") {\n            display: none;\n    }\n"])),(function(n){return n.theme.mobile})),f=(0,o.ZP)(l)(a||(a=(0,s.Z)(["\n    \n    display: none;\n    font-size: 0.75em;\n\n    @media (max-width: ",") {\n            display: table;\n    }\n"])),(function(n){return n.theme.mobile}))},7763:function(n,e,t){t.r(e);var r,i=t(168),c=t(6031).ZP.button(r||(r=(0,i.Z)(["\n    font-size: ",";\n    font-weight: bold;\n    letter-spacing: 0.05rem;\n    color: ",";\n    background: ",";\n    border: none;\n    border-radius: 15px;\n    padding: 2px 5px;\n    margin: 2px;\n    text-align: center;\n    transition: color 0.3s linear\n\n    @media (max-width: ",") {\n        font-size: ",";\n        text-align: center;\n    }\n\n    &:hover {\n        color: ",";\n    }\n"])),(function(n){return n.font_size}),(function(n){return n.theme.primaryDark}),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.mobile}),(function(n){return n.font_size}),(function(n){return n.theme.primaryHover}));e.default=c},71:function(n,e,t){var r,i=t(168),c=t(6031).ZP.form(r||(r=(0,i.Z)(["\n    display: block;\n    width: 100%;\n    padding: 5px;\n"])));e.Z=c},7480:function(n,e,t){var r,i=t(168),c=t(6031).ZP.div(r||(r=(0,i.Z)(["\n    display: block;\n    padding: 2px;\n    label {\n        float: left;\n        width: 25%;\n        min-width: 100px;\n    }\n"])));e.Z=c},97:function(n,e,t){var r,i=t(168),c=t(6031).ZP.nav(r||(r=(0,i.Z)(["\n    margin: 2px;\n    padding: 2px;\n    white-space: nowrap;\n    border: 1px solid ",";\n    border-radius: 10px;\n    overflow-y: scroll;\n    max-height: 75vh;\n    min-width: fit-content;\n    width: auto;\n    max-width: fit-content;\n\n\n    @media (max-width: ",") {\n        white-space: normal;\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: none;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background: ",";\n    }\n"])),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.mobile}),(function(n){return n.theme.primaryLight}),(function(n){return n.theme.primaryHover}));e.Z=c},8709:function(n,e,t){var r,i=t(168),c=t(6031).ZP.div(r||(r=(0,i.Z)(["\n    user-select: none;\n    cursor: pointer;\n    padding: 2px;\n    border-radius: 5px;\n\n    &:hover {\n        background: ",";\n    }\n"])),(function(n){return n.theme.primaryHover}));e.Z=c},7489:function(n,e,t){var r,i=t(168),c=t(6031).ZP.nav(r||(r=(0,i.Z)(["\n    display: flex;\n    background-color: ",";\n    position: relative;\n    padding: 5px;\n    margin: 5px;\n    border-radius: 20px;\n\n    flex-wrap: wrap;\n    justify-content: center;\n"])),(function(n){return n.theme.primaryHover}));e.Z=c}}]);
//# sourceMappingURL=206.10ad4b75.chunk.js.map