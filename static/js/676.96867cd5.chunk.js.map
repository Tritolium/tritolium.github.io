{"version":3,"file":"static/js/676.96867cd5.chunk.js","mappings":"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","sources":["modules/components/menu/Menu.styled.js","modules/components/menu/Menu.js","modules/helper/Permissions.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const StyledMenu =styled.nav`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    background: ${({theme}) => theme.primaryDark};\n    height: 100vh;\n    text-align: left;\n    padding: calc(5% + 2rem) 2rem 2rem 2rem;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 9;\n    transition: transform 0.3s ease-in-out;\n\n    transform: ${({ open }) => open ? 'translateX(0)' : 'translateX(-100%)'};\n    \n    @media (max-width: ${({ theme }) => theme.mobile}) {\n        width: 100%;\n        padding: calc(10% + 2rem) 2rem 2rem 2rem;\n    }\n\n    button {\n        /*font-size: 1.5rem;\n        font-weight: bold;\n        letter-spacing: 0.05rem;\n        color: ${({theme}) => theme.primaryDark};\n        background: ${({theme}) => theme.primaryLight};\n        border: none;\n        border-radius: 15px;\n        padding: 1px 5px;\n        margin: 2px;\n        text-align: center;\n        transition: color 0.3s linear*/\n\n        @media (max-width: ${({ theme }) => theme.mobile}) {\n            font-size: 1.5rem;\n            text-align: center;\n        }\n\n        &:hover {\n            color: ${({ theme }) => theme.primaryHover};\n        }\n    }\n`","import React from 'react'\nimport { bool } from 'prop-types'\nimport { StyledMenu } from './Menu.styled'\nimport { useCallback } from 'react'\nimport Button from '../button/Button'\nimport { hasAnyPermission } from '../../helper/Permissions'\n\n// TODO: remove auth_level when all permissions are set\nconst Menu = ({ open, navigate, auth_level, setOpen, secure }) => {\n    const button_size = '1.5rem'\n\n    const nav = useCallback((e) => {\n        setOpen(false)\n        navigate(e)\n    }, [navigate, setOpen])\n\n    const insecure = () => {\n        alert('Diese Funktion ist nur noch zug√§nglich, wenn ein Passwort gesetzt wurde.')\n    }\n\n\n    // TODO: remove minAuth when all permissions are set\n    const buttons = [\n        { id: 'main_button_0', label: 'Startseite', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_1', label: 'Anwesenheiten', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_2', label: 'Urlaub', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_3', label: 'Auswertung', minAuth: 3, permitted: true, onClick: nav },\n        { id: 'main_button_4', label: 'Mitglieder', minAuth: 1, permitted: hasAnyPermission([1, 2]), onClick: nav },\n        { id: 'main_button_5', label: 'Termine', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_6', label: 'Noten', minAuth: 1, permitted: undefined, onClick: secure ? nav : insecure },\n        { id: 'main_button_7', label: 'Bestellungen', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_8', label: 'Verwaltung', minAuth: 3, permitted: undefined, onClick: nav },\n        { id: 'main_button_9', label: 'Einstellungen', minAuth: 1, permitted: undefined, onClick: nav },\n        { id: 'main_button_10', label: 'Hilfe', minAuth: 1, permitted: undefined, onClick: nav },\n    ]\n\n    // TODO: remove minAuth when all permissions are set\n    return (\n        <StyledMenu open={open}>\n            {buttons.map(({ id, label, minAuth, permitted, onClick }) => {\n                if (permitted === undefined) {\n                    return (\n                        auth_level >= minAuth && (\n                            <Button key={id} type='button' id={id} font_size={button_size} onClick={onClick}>\n                                {label}\n                            </Button>\n                        )\n                    )\n                } else {\n                    return (\n                        permitted && (\n                            <Button key={id} type='button' id={id} font_size={button_size} onClick={onClick}>\n                                {label}\n                            </Button>\n                        )\n                    )\n                }\n            })}\n        </StyledMenu>\n    )\n}\n\nMenu.propTypes = {\n    open: bool.isRequired,\n}\n\nexport default Menu","// This helper checks if the user has the required permissions to access a certain section of the application.\n// The permissions are stored in the local storage and are fetched from the server when the user logs in.\n// \n\nexport const hasPermission = (permission, association_id = null) => {\n    const permissions = JSON.parse(localStorage.getItem('permissions') || '{}');\n\n    if (association_id === null) {\n        for (let assoc in permissions) {\n            if (permissions[assoc].includes(permission)) {\n                return true\n            }\n        }\n    } else {\n        if (permissions[association_id]?.includes(permission)) {\n            return true\n        }\n    }\n\n    return false\n}\n\nexport const hasAnyPermission = (permissions, association_id = null) => {\n    for (let permission of permissions) {\n        if (hasPermission(permission, association_id)) {\n            return true\n        }\n    }\n\n    return false\n}\n\nexport const hasAllPermissions = (permissions, association_id = null) => {\n    for (let permission of permissions) {\n        if (!hasPermission(permission, association_id)) {\n            return false\n        }\n    }\n\n    return true\n}"],"names":["StyledMenu","styled","nav","_templateObject","_taggedTemplateLiteral","_ref","theme","primaryDark","_ref2","open","_ref3","mobile","_ref4","_ref5","primaryLight","_ref6","_ref7","primaryHover","navigate","auth_level","setOpen","secure","button_size","useCallback","e","buttons","id","label","minAuth","permitted","undefined","onClick","hasAnyPermission","insecure","alert","_jsx","children","map","Button","type","font_size","hasPermission","permission","association_id","arguments","length","permissions","JSON","parse","localStorage","getItem","_permissions$associat","assoc","includes"],"sourceRoot":""}