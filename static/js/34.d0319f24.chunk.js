"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[34],{1755:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r,i,a,s,l=t(4165),o=t(5861),d=t(885),c=t(2791),u=t(7918),h=t(168),g=t(7924),v=g.ZP.div(r||(r=(0,h.Z)(["\n\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .iosInstruction {\n        color: red;\n        font-size: 1.5em;\n\n        svg {\n            animation: none;\n            stroke: ",";\n            color: ",";\n            height: 1.5em;\n            width: 1.5em;\n        }\n    }\n\n    table {\n        padding-top: 4pt;\n        padding-bottom: 24pt;\n        border-collapse: collapse;\n        cursor: default;\n    }\n    img {\n        height: 30pt;\n    }\n\n    .event_header {\n        margin-top: 2vh;\n        border-top: 1px solid white;\n    }\n\n    svg {\n        height: 50pt;\n        width: 50pt;\n    }\n\n    th {\n        padding-top: 2.5vh;\n    }\n\n    canvas {\n        max-heigth: 30px;\n    }\n"])),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.primaryLight})),f=g.ZP.p(i||(i=(0,h.Z)(["\n    font-size: smaller;\n    font-weight: bold;\n    border-radius: 5px;\n    padding: 15px;\n\n    svg {\n        height: 5em;\n        width: 5em;\n        stroke: red;\n        animation: blink 1s linear infinite;\n    }\n\n    @media (min-width: ",") {\n        display: none;\n    }\n\n    @keyframes blink {\n        0%{stroke: ",";}\n        50%{stroke: red;}\n        100%{stroke: ",";}\n    }\n"])),(function(e){return e.theme.medium}),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.primaryLight})),x=g.ZP.ul(a||(a=(0,h.Z)(["\n    font-size: smaller;\n    padding-inline-start: 1.5em;\n    padding-inline-end: 1.5em;\n\n    li {\n        padding: 1em 0 1em 0;\n    }\n"]))),p=g.ZP.textarea(s||(s=(0,h.Z)(["\n    transition-property: transform, opacity, max-height;\n    transition-duration: 0.75s;\n    transition-timing-function: ease;\n    \n    transform: ",";\n    opacity: ",";\n    max-height: ",";\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}),(function(e){return e.open?"1":"0"}),(function(e){return e.open?"160px":"0"})),m=t(6476),j=t(1578),b=t(1607),D=t(7526),y=t(9126),w=t(9879),k=t(152),S=t(3077),Z=t(5089),F=t(184),T=(0,c.lazy)((function(){return Promise.resolve().then(t.bind(t,7763))})),_=(0,c.lazy)((function(){return Promise.all([t.e(373),t.e(730)]).then(t.bind(t,7730))})),I=(0,c.lazy)((function(){return Promise.all([t.e(585),t.e(477)]).then(t.bind(t,8477))})),B=function(e){var n=e.fullname,t=(0,c.useState)(new Array(0)),r=(0,d.Z)(t,2),i=r[0],a=r[1],s=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.Ni)().then((function(e){var n=e.filter((function(e){var n=new Date(e.Birthday),t=new Date;n.setFullYear(t.getFullYear());var r=n.getTime()-t.getTime();return-6048e5<r&&r<6048e5})).sort((function(e,n){var t=new Date(e.Birthday),r=new Date(n.Birthday);return t.getMonth()<r.getMonth()?-1:t.getMonth()>r.getMonth()?1:t.getDate()<r.getDate()?-1:t.getDate()>r.getDate()?1:0}));a(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,c.useEffect)((function(){s()}),[]),i.length>0)return(0,F.jsxs)("div",{children:[(0,F.jsx)("h3",{children:"Geburtstage:"}),null===i||void 0===i?void 0:i.map((function(e){var t=new Date(e.Birthday),r=new Date,i=r.getDate()===t.getDate();return n===e.Fullname&&i?(0,F.jsxs)("div",{children:["Herzlichen Gl\xfcckwunsch, ",n.split(" ")[0],"!"]}):(0,F.jsxs)("div",{children:[e.Fullname,": ",t.getDate(),".",t.getMonth()+1,", ",r.getFullYear()-t.getFullYear()," Jahre"]},e.Fullname)}))]})},E=function(e){var n=e.read,t=(0,c.useState)(!1),r=(0,d.Z)(t,2),i=r[0],a=r[1];return(0,F.jsxs)(x,{children:[n||i?(0,F.jsx)(F.Fragment,{}):(0,F.jsx)(T,{onClick:function(){a(!0),localStorage.setItem("changelogRead",Z.i)},children:"Changelog vergergen"}),n||i?(0,F.jsx)(F.Fragment,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("h2",{children:["Neu in ",Z.i,":"]}),(0,F.jsxs)("li",{children:[(0,F.jsx)("i",{children:"Benachrichtigungen:"}),' Mit der Glocke oben rechts k\xf6nnen Benachrichtigungen aktiviert werden. Vorraussetzung ist, dass die App "installiert" ist.']}),(0,F.jsxs)("li",{children:[(0,F.jsx)("i",{children:"Passw\xf6rter:"})," Der Zugang kann jetzt mit einem Passwort versehen werden. Unter Einstellung setzen oder ver\xe4ndern."]}),(0,F.jsxs)("li",{children:[(0,F.jsx)("i",{children:"Startseite:"})," Das Layout der Startseite wurde angepasst und erweitert."]})]})]})},C=function(e){var n=e.clothing;return(0,F.jsx)(c.Suspense,{children:0!==parseInt(n)?(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Bekleidung:"}),(0,F.jsx)("td",{children:(0,F.jsx)(m.B,{clothing:parseInt(n)})})]}):(0,F.jsx)(F.Fragment,{})})},P=function(e){var n=e.nextPractice,t=e.auth_level,r=(0,c.useState)(),i=(0,d.Z)(r,2),a=i[0],s=i[1],l=new Date(null===n||void 0===n?void 0:n.Date),o=null===n||void 0===n?void 0:n.Attendence;(0,c.useEffect)((function(){void 0!==n&&(0,u.B$)(null===n||void 0===n?void 0:n.Event_ID,null===n||void 0===n?void 0:n.Usergroup_ID).then((function(e){s(e)}))}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("tr",{className:"event_header",children:[(0,F.jsx)("td",{children:null===n||void 0===n?void 0:n.Type}),(0,F.jsx)("td",{children:null===n||void 0===n?void 0:n.Location}),(0,F.jsx)("td",{rowSpan:2,children:(0,F.jsx)(_,{event_id:null===n||void 0===n?void 0:n.Event_ID,states:3,attendence:o,onClick:function(e,n){var t={};t[""+e]=n,(0,u.IZ)(t,!1)},cancelled:null===n||void 0===n?void 0:n.Type.includes("Abgesagt")})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsxs)("td",{children:[l.getDate(),".",l.getMonth()+1,".",l.getFullYear()]}),(0,F.jsxs)("td",{children:[null===n||void 0===n?void 0:n.Begin.slice(0,5)," Uhr"]})]}),(0,F.jsx)("tr",{children:t>1?(0,F.jsx)("td",{colSpan:3,children:(0,F.jsx)(M,{event:a,auth_level:t})}):(0,F.jsx)(F.Fragment,{})})]})},z=function(e){var n=e.nextEvent,t=e.auth_level,r=(0,c.useState)(),i=(0,d.Z)(r,2),a=i[0],s=i[1],l=(0,c.useState)(),o=(0,d.Z)(l,2),h=o[0],g=o[1],v=null===n||void 0===n?void 0:n.Attendence,f=new Date(null===n||void 0===n?void 0:n.Date);(0,c.useEffect)((function(){var e=new Date(null===n||void 0===n?void 0:n.Date),t=new Date;t.setDate(t.getDate()+6),void 0!==n&&e<t&&(0,u.p)(n).then((function(e){s(e)})),void 0!==n&&(0,u.B$)(null===n||void 0===n?void 0:n.Event_ID,null===n||void 0===n?void 0:n.Usergroup_ID).then((function(e){g(e)}))}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("tr",{className:"event_header",children:[(0,F.jsx)("td",{children:null===n||void 0===n?void 0:n.Type}),(0,F.jsx)("td",{children:null===n||void 0===n?void 0:n.Location})]}),(0,F.jsxs)("tr",{children:[(0,F.jsxs)("td",{children:[f.getDate(),".",f.getMonth()+1,".",f.getFullYear()]}),(0,F.jsx)("td",{children:"12:34:56"!==(null===n||void 0===n?void 0:n.Begin)?"".concat(null===n||void 0===n?void 0:n.Begin.slice(0,5)," Uhr"):"-"}),(0,F.jsx)("td",{rowSpan:3,children:(0,F.jsx)(c.Suspense,{children:(0,F.jsx)(_,{event_id:null===n||void 0===n?void 0:n.Event_ID,states:3,attendence:v,onClick:function(e,n){var t={};t[""+e]=n,(0,u.IZ)(t,!1)}})})})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Hin:"}),(0,F.jsx)("td",{children:"12:34:56"!==(null===n||void 0===n?void 0:n.Departure)?"".concat(null===n||void 0===n?void 0:n.Departure.slice(0,5)," Uhr"):"-"})]}),(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Zur\xfcck:"}),(0,F.jsx)("td",{children:"12:34:56"!==(null===n||void 0===n?void 0:n.Leave_dep)?"".concat(null===n||void 0===n?void 0:n.Leave_dep.slice(0,5)," Uhr"):"-"})]}),(0,F.jsx)(C,{clothing:null===n||void 0===n?void 0:n.Clothing}),a?(0,F.jsx)(c.Suspense,{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:"Wetter:"}),(0,F.jsx)("td",{children:"".concat(a.Temperature,"\xb0C")}),(0,F.jsx)("td",{children:(0,F.jsx)(I,{code:a.Weathercode})})]})}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)("tr",{children:t>0?(0,F.jsx)("td",{colSpan:3,children:(0,F.jsx)(M,{event:h,auth_level:t})}):(0,F.jsx)(F.Fragment,{})})]})},A=function(){var e=(0,c.useState)(!1),n=(0,d.Z)(e,2),t=n[0],r=n[1],i=(0,c.useCallback)((function(){if(r(!t),t){var e=document.getElementById("feedbackcontent").value;(0,u.S3)(e)}document.getElementById("feedbackform").reset()}),[t]),a=(0,c.useCallback)((function(){r(!1),document.getElementById("feedbackform").reset()}),[]);return(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(T,{onClick:i,children:t?"Senden":"Feedback"}),t?(0,F.jsx)(T,{onClick:a,children:"Abbrechen"}):(0,F.jsx)(F.Fragment,{})]}),(0,F.jsx)("form",{id:"feedbackform",children:(0,F.jsx)(p,{open:t,name:"content",id:"feedbackcontent",cols:"30",rows:"10"})})]})},M=function(e){var n=e.event,t=e.auth_level;k.kL.register(k.uw,k.f$,k.ZL,k.Dx,k.u,k.De);var r={animation:{duration:0},indexAxis:"y",plugins:{title:{display:!1},legend:{display:!1},tooltip:{enabled:t>1}},scales:{x:{stacked:!0,display:!1},y:{stacked:!0,display:!1}}},i={labels:[""],datasets:[{data:[null===n||void 0===n?void 0:n.Consent],backgroundColor:b.rS.greenRGB},{data:[null===n||void 0===n?void 0:n.Missing],backgroundColor:b.rS.blueRGB},{data:[null===n||void 0===n?void 0:n.Maybe],backgroundColor:b.rS.yellowRGB},{data:[null===n||void 0===n?void 0:n.Refusal],backgroundColor:b.rS.redRGB}]};return(0,F.jsx)(S.$Q,{height:"30px",options:r,data:i})},L=function(e){var n=e.fullname,t=e.auth_level,r=(0,c.useState)(new Array(0)),i=(0,d.Z)(r,2),a=i[0],s=i[1],h=(0,c.useState)(new Array(0)),g=(0,d.Z)(h,2),x=g[0],p=g[1],m=(0,c.useState)(!1),k=(0,d.Z)(m,2),S=k[0],T=k[1],_=(0,c.useState)(!1),I=(0,d.Z)(_,2),C=I[0],M=I[1],L=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var n,t,r,i,a,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Q7)();case 2:n=e.sent,t=n.filter((function(e,n){return e.Date<n.Date?1:e.Date===n.Date?e.Begin<n.Begin:-1})),r=t.filter((function(e){return!(e.Type.includes("Probe")||e.Type.includes("\xdcben"))}))[0],i=t.filter((function(e){return!(e.Type.includes("Probe")||e.Type.includes("\xdcben"))})).filter((function(e){var n=new Date(r.Date),t=new Date(e.Date);return t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()))})),a=t.filter((function(e){return e.Type.includes("Probe")||e.Type.includes("\xdcben")}))[0],o=t.filter((function(e){return e.Type.includes("Probe")||e.Type.includes("\xdcben")})).filter((function(e){var n=new Date(a.Date),t=new Date(e.Date);return t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()))})),s(i),p(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){L();var e=(0,u.Ij)();M("browser tab"===(0,u.ol)()&&window.innerWidth<parseInt(b.rS.medium.split("px")[0])&&(w.J||!("Mac OS"!==e&&"iOS"!==e)))}),[]),(0,F.jsxs)(v,{children:[C?(0,F.jsx)(f,{children:(0,F.jsx)(j.bS7,{onClick:function(){var e=(0,u.Ij)();"Mac OS"!==e&&"iOS"!==e?w.J.prompt():(T(!0),M(!1))}})}):(0,F.jsx)(F.Fragment,{}),C?(0,F.jsx)(f,{children:"Diese App kann auch installiert werden, einfach auf das Icon klicken!"}):(0,F.jsx)(F.Fragment,{}),S?(0,F.jsxs)(f,{className:"iosInstruction",children:["Erst ",(0,F.jsx)(D.Hs8,{}),", dann ",(0,F.jsx)(y.b5v,{})]}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)(E,{read:localStorage.getItem("changelogRead")===Z.i}),(0,F.jsx)(B,{fullname:n}),(0,F.jsx)("table",{children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)(c.Suspense,{children:[x.length>0?(0,F.jsx)("tr",{children:(0,F.jsxs)("th",{colSpan:3,children:["N\xe4chste Probe",x.length>1?"n":"",":"]})}):(0,F.jsx)(F.Fragment,{}),x.length>0?x.map((function(e){return(0,F.jsx)(P,{nextPractice:e,auth_level:t},"nextPractice_".concat(e.Event_ID))})):(0,F.jsx)(F.Fragment,{})]}),(0,F.jsxs)(c.Suspense,{children:[a.length>0?(0,F.jsx)("tr",{children:(0,F.jsxs)("th",{colSpan:3,children:["N\xe4chste",1===a.length?"r":""," Termin",a.length>1?"e":"",":"]})}):(0,F.jsx)(F.Fragment,{}),a.length>0?a.map((function(e){return(0,F.jsx)(z,{nextEvent:e,auth_level:t},"nextEvent_".concat(e.Event_ID))})):(0,F.jsx)(F.Fragment,{})]})]})}),(0,F.jsx)(A,{})]})}},6476:function(e,n,t){t.d(n,{B:function(){return d}});var r=t(1200),i=t(5902),a=t(6130),s=t(8641),l=t(9620),o=t(184),d=function(e){var n,t=e.clothing;switch(parseInt(t)){case 1:n=r;break;case 2:n=i;break;case 3:n=a;break;case 4:n=s;break;case 5:n=l}return n?(0,o.jsx)("img",{src:n,alt:"Uniform"}):(0,o.jsx)(o.Fragment,{})}},9620:function(e,n,t){e.exports=t.p+"static/media/cow.d8758b23c18f146ca6dd.png"},1200:function(e,n,t){e.exports=t.p+"static/media/polo.712b26af13af64644991.png"},5902:function(e,n,t){e.exports=t.p+"static/media/polod.105b441f9c3ea18617b0.png"},6130:function(e,n,t){e.exports=t.p+"static/media/shirt.fbcc2ca982466cf1415e.png"},8641:function(e,n,t){e.exports=t.p+"static/media/suit.f2947921472d3fcaf13d.png"},7762:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(181);function i(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){o=!0,s=e},f:function(){try{l||null==t.return||t.return()}finally{if(o)throw s}}}}}}]);
//# sourceMappingURL=34.d0319f24.chunk.js.map