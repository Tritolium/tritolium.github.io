"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[755],{1755:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var i,r,s,a=t(5861),c=t(885),d=t(7757),l=t.n(d),o=t(2791),u=t(7918),h=t(168),f=t(6031),p=f.ZP.div(i||(i=(0,h.Z)(["\n\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .iosInstruction {\n        color: red;\n        font-size: 1.5em;\n\n        svg {\n            animation: none;\n            stroke: ",";\n            color: ",";\n            height: 1.5em;\n            width: 1.5em;\n        }\n    }\n\n    table {\n        padding-top: 4pt;\n        padding-bottom: 24pt;\n        border-collapse: collapse;\n        cursor: default;\n    }\n    img {\n        height: 30pt;\n    }\n\n    .event_header {\n        margin-top: 2vh;\n        border-top: 1px solid white;\n    }\n\n    svg {\n        height: 50pt;\n        width: 50pt;\n    }\n\n    th {\n        padding-top: 2.5vh;\n    }\n"])),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.primaryLight})),x=f.ZP.p(r||(r=(0,h.Z)(["\n    font-size: smaller;\n    font-weight: bold;\n    border-radius: 5px;\n    padding: 15px;\n\n    svg {\n        height: 5em;\n        width: 5em;\n        stroke: red;\n        animation: blink 1s linear infinite;\n    }\n\n    @media (min-width: ",") {\n        display: none;\n    }\n\n    @keyframes blink {\n        0%{stroke: ",";}\n        50%{stroke: red;}\n        100%{stroke: ",";}\n    }\n"])),(function(e){return e.theme.medium}),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.primaryLight})),m=f.ZP.textarea(s||(s=(0,h.Z)(["\n    transition-property: transform, opacity, max-height;\n    transition-duration: 0.75s;\n    transition-timing-function: ease;\n    \n    transform: ",";\n    opacity: ",";\n    max-height: ",";\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}),(function(e){return e.open?"1":"0"}),(function(e){return e.open?"160px":"0"})),g=t(6476),v=t(1578),j=t(1607),b=t(7526),D=t(9126),w=t(6049),k=t(184),y=(0,o.lazy)((function(){return t.e(763).then(t.bind(t,7763))})),T=(0,o.lazy)((function(){return Promise.all([t.e(373),t.e(730)]).then(t.bind(t,7730))})),S=(0,o.lazy)((function(){return Promise.all([t.e(585),t.e(477)]).then(t.bind(t,8477))})),F=function(e){var n=e.fullname,t=(0,o.useState)(new Array(0)),i=(0,c.Z)(t,2),r=i[0],s=i[1],d=function(){var e=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.Ni)().then((function(e){var n=e.filter((function(e){var n=new Date(e.Birthday);n.setFullYear(2023);var t=new Date,i=n.getTime()-t.getTime();return-6048e5<i&&i<6048e5}));s(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,o.useEffect)((function(){d()}),[]),r.length>0)return(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{children:"Geburtstage:"}),null===r||void 0===r?void 0:r.map((function(e){var t=new Date(e.Birthday),i=new Date,r=i.getDate()===t.getDate();return n===e.Fullname&&r?(0,k.jsxs)("div",{children:["Herzlichen Gl\xfcckwunsch, ",n.split(" ")[0],"!"]}):(0,k.jsxs)("div",{children:[e.Fullname,": ",t.getDate(),".",t.getMonth()+1,", ",i.getFullYear()-t.getFullYear()," Jahre"]},e.Fullname)}))]})},Z=function(e){var n=e.clothing;return(0,k.jsx)(o.Suspense,{children:0!==parseInt(n)?(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:"Bekleidung:"}),(0,k.jsx)("td",{children:(0,k.jsx)(g.B,{clothing:parseInt(n)})})]}):(0,k.jsx)(k.Fragment,{})})},I=function(e){var n=e.nextPractice,t=new Date(null===n||void 0===n?void 0:n.Date),i=null===n||void 0===n?void 0:n.Attendence;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("tr",{className:"event_header",children:[(0,k.jsx)("td",{children:null===n||void 0===n?void 0:n.Type}),(0,k.jsx)("td",{children:null===n||void 0===n?void 0:n.Location}),(0,k.jsx)("td",{rowSpan:2,children:(0,k.jsx)(T,{event_id:null===n||void 0===n?void 0:n.Event_ID,states:3,attendence:i,onClick:function(e,n){var t={};t[""+e]=n,(0,u.IZ)(t,!1)},cancelled:null===n||void 0===n?void 0:n.Type.includes("Abgesagt")})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsxs)("td",{children:[t.getDate(),".",t.getMonth()+1,".",t.getFullYear()]}),(0,k.jsxs)("td",{children:[null===n||void 0===n?void 0:n.Begin.slice(0,5)," Uhr"]})]})]})},B=function(e){var n=e.nextEvent,t=(0,o.useState)(),i=(0,c.Z)(t,2),r=i[0],s=i[1],a=null===n||void 0===n?void 0:n.Attendence,d=new Date(null===n||void 0===n?void 0:n.Date);(0,o.useEffect)((function(){var e=new Date(null===n||void 0===n?void 0:n.Date),t=new Date;t.setDate(t.getDate()+6),void 0!==n&&e<t&&(0,u.p)(n).then((function(e){s(e)}))}),[n]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("tr",{className:"event_header",children:[(0,k.jsx)("td",{children:null===n||void 0===n?void 0:n.Type}),(0,k.jsx)("td",{children:null===n||void 0===n?void 0:n.Location})]}),(0,k.jsxs)("tr",{children:[(0,k.jsxs)("td",{children:[d.getDate(),".",d.getMonth()+1,".",d.getFullYear()]}),(0,k.jsxs)("td",{children:[null===n||void 0===n?void 0:n.Begin.slice(0,5)," Uhr"]}),(0,k.jsx)("td",{rowSpan:3,children:(0,k.jsx)(o.Suspense,{children:(0,k.jsx)(T,{event_id:null===n||void 0===n?void 0:n.Event_ID,states:3,attendence:a,onClick:function(e,n){var t={};t[""+e]=n,(0,u.IZ)(t,!1)}})})})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:"Hin:"}),(0,k.jsx)("td",{children:"12:34:56"!==(null===n||void 0===n?void 0:n.Departure)?"".concat(null===n||void 0===n?void 0:n.Departure.slice(0,5)," Uhr"):"-"})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:"Zur\xfcck:"}),(0,k.jsx)("td",{children:"12:34:56"!==(null===n||void 0===n?void 0:n.Leave_dep)?"".concat(null===n||void 0===n?void 0:n.Leave_dep.slice(0,5)," Uhr"):"-"})]}),(0,k.jsx)(Z,{clothing:null===n||void 0===n?void 0:n.Clothing}),r?(0,k.jsx)(o.Suspense,{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:"Wetter:"}),(0,k.jsx)("td",{children:"".concat(r.Temperature,"\xb0C")}),(0,k.jsx)("td",{children:(0,k.jsx)(S,{code:r.Weathercode})})]})}):(0,k.jsx)(k.Fragment,{})]})},P=function(){var e=(0,o.useState)(!1),n=(0,c.Z)(e,2),t=n[0],i=n[1],r=(0,o.useCallback)((function(){if(i(!t),t){var e=document.getElementById("feedbackcontent").value;(0,u.S3)(e)}document.getElementById("feedbackform").reset()}),[t]),s=(0,o.useCallback)((function(){i(!1),document.getElementById("feedbackform").reset()}),[]);return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(y,{onClick:r,children:t?"Senden":"Feedback"}),t?(0,k.jsx)(y,{onClick:s,children:"Abbrechen"}):(0,k.jsx)(k.Fragment,{})]}),(0,k.jsx)("form",{id:"feedbackform",children:(0,k.jsx)(m,{open:t,name:"content",id:"feedbackcontent",cols:"30",rows:"10"})})]})},C=function(e){var n=e.fullname,t=(0,o.useState)(new Array(0)),i=(0,c.Z)(t,2),r=i[0],s=i[1],d=(0,o.useState)(new Array(0)),h=(0,c.Z)(d,2),f=h[0],m=h[1],g=(0,o.useState)(!1),y=(0,c.Z)(g,2),T=y[0],S=y[1],Z=(0,o.useState)(!1),C=(0,c.Z)(Z,2),E=C[0],_=C[1],z=function(){var e=(0,a.Z)(l().mark((function e(){var n,t,i,r,a,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Q7)();case 2:n=e.sent,t=n.filter((function(e,n){return e.Date<n.Date?1:e.Date===n.Date?e.Begin<n.Begin:-1})),i=t.filter((function(e){return!(e.Type.includes("Probe")||e.Type.includes("\xdcben"))}))[0],r=t.filter((function(e){return!(e.Type.includes("Probe")||e.Type.includes("\xdcben"))})).filter((function(e){var n=new Date(i.Date),t=new Date(e.Date);return t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()))})),a=t.filter((function(e){return e.Type.includes("Probe")||e.Type.includes("\xdcben")}))[0],c=t.filter((function(e){return e.Type.includes("Probe")||e.Type.includes("\xdcben")})).filter((function(e){var n=new Date(a.Date),t=new Date(e.Date);return t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()||(t.setDate(t.getDate()-1),t.getTime()===n.getTime()))})),s(r),m(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){z();var e=(0,u.Ij)();_("browser tab"===(0,u.ol)()&&window.innerWidth<parseInt(j.r.medium.split("px")[0])&&(w.J||!("Mac OS"!==e&&"iOS"!==e)))}),[]),(0,k.jsxs)(p,{children:[(0,k.jsx)(x,{children:'Info: die gesamten R\xfcckmeldungen sind im Men\xfc auf der linken Seite unter "Anwesenheiten" zu finden'}),(0,k.jsx)(x,{children:"Auf dieser Seite ist das explizite speichern nicht mehr notwendig"}),E?(0,k.jsx)(x,{children:(0,k.jsx)(v.bS7,{onClick:function(){var e=(0,u.Ij)();"Mac OS"!==e&&"iOS"!==e?w.J.prompt():(S(!0),_(!1))}})}):(0,k.jsx)(k.Fragment,{}),E?(0,k.jsx)(x,{children:"Diese App kann auch installiert werden, einfach auf das Icon klicken!"}):(0,k.jsx)(k.Fragment,{}),T?(0,k.jsxs)(x,{className:"iosInstruction",children:["Erst ",(0,k.jsx)(b.Hs8,{}),", dann ",(0,k.jsx)(D.b5v,{})]}):(0,k.jsx)(k.Fragment,{}),(0,k.jsx)(F,{fullname:n}),(0,k.jsx)("table",{children:(0,k.jsxs)("tbody",{children:[(0,k.jsxs)(o.Suspense,{children:[f.length>0?(0,k.jsx)("tr",{children:(0,k.jsxs)("th",{colSpan:3,children:["N\xe4chste Probe",f.length>1?"n":"",":"]})}):(0,k.jsx)(k.Fragment,{}),f.length>0?f.map((function(e){return(0,k.jsx)(I,{nextPractice:e})})):(0,k.jsx)(k.Fragment,{})]}),(0,k.jsxs)(o.Suspense,{children:[r.length>0?(0,k.jsx)("tr",{children:(0,k.jsxs)("th",{colSpan:3,children:["N\xe4chste",1===r.length?"r":""," Termin",r.length>1?"e":"",":"]})}):(0,k.jsx)(k.Fragment,{}),r.length>0?r.map((function(e){return(0,k.jsx)(B,{nextEvent:e})})):(0,k.jsx)(k.Fragment,{})]})]})}),(0,k.jsx)(P,{})]})}},6476:function(e,n,t){t.d(n,{B:function(){return l}});var i=t(1200),r=t(5902),s=t(6130),a=t(8641),c=t(9620),d=t(184),l=function(e){var n,t=e.clothing;switch(parseInt(t)){case 1:n=i;break;case 2:n=r;break;case 3:n=s;break;case 4:n=a;break;case 5:n=c}return n?(0,d.jsx)("img",{src:n,alt:"Uniform"}):(0,d.jsx)(d.Fragment,{})}},9620:function(e,n,t){e.exports=t.p+"static/media/cow.d8758b23c18f146ca6dd.png"},1200:function(e,n,t){e.exports=t.p+"static/media/polo.712b26af13af64644991.png"},5902:function(e,n,t){e.exports=t.p+"static/media/polod.105b441f9c3ea18617b0.png"},6130:function(e,n,t){e.exports=t.p+"static/media/shirt.fbcc2ca982466cf1415e.png"},8641:function(e,n,t){e.exports=t.p+"static/media/suit.f2947921472d3fcaf13d.png"}}]);
//# sourceMappingURL=755.61daab8e.chunk.js.map