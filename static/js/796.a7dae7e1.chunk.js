"use strict";(self.webpackChunkspz_planner=self.webpackChunkspz_planner||[]).push([[796],{7796:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r,a,i=t(4165),l=t(5861),u=t(885),o=t(2791),s=t(7763),c=t(71),d=t(7480),m=t(97),h=t(7918),f=t(168),p=t(7924),x=p.ZP.div(r||(r=(0,f.Z)(["\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    width: 100%;\n\n    form {\n        display: flex;\n        flex-direction: column;\n    }\n"]))),b=p.ZP.div(a||(a=(0,f.Z)(["\n    user-select: none;\n    cursor: pointer;\n    padding: 2px;\n    border-radius: 5px;\n\n    &:hover {\n        background: ",";\n    }\n"])),(function(e){return e.theme.primaryHover})),v=t(184),j=function(e){var n=e.members,t=e.onSelect;return(0,v.jsx)(m.Z,{children:n.map((function(e){return(0,v.jsx)(Z,{onSelect:t,member:e},e.Member_ID)}))})},Z=function(e){var n=e.member,t=e.onSelect,r=(0,o.useCallback)((function(){t(n.Member_ID)}),[t,n.Member_ID]);return(0,v.jsxs)(b,{onClick:r,children:[n.Surname,", ",n.Forename]})},k=function(e){var n=e.member,t=e.reload,r=(0,o.useState)({}),a=(0,u.Z)(r,2),m=a[0],f=a[1];(0,o.useEffect)((function(){document.getElementById("memberform_form").reset(),document.getElementById("auth_level").selectedIndex=null===n||void 0===n?void 0:n.Auth_level,f({})}),[n]);var p=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(r){var a,l,u,o,s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=document.getElementById("forename").value,l=document.getElementById("surname").value,u=document.getElementById("auth_level").options[document.getElementById("auth_level").selectedIndex].value,o=document.getElementById("nicknames").value,s=document.getElementById("instrument").value,c=document.getElementById("birthdate").value,void 0===n){e.next=12;break}return e.next=10,(0,h.hS)(n.Member_ID,a,l,u,o,s,c,m);case 10:e.next=14;break;case 12:return e.next=14,(0,h.aA)(a,l,u,o,s,c);case 14:t();case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(c.Z,{id:"memberform_form",children:[(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"forename",children:"Vorname:"}),(0,v.jsx)("input",{type:"text",name:"forename",id:"forename",defaultValue:null===n||void 0===n?void 0:n.Forename})]}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"surname",children:"Nachname:"}),(0,v.jsx)("input",{type:"text",name:"surname",id:"surname",defaultValue:null===n||void 0===n?void 0:n.Surname})]}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"auth_level",children:"Zugriffslevel:"}),(0,v.jsxs)("select",{name:"auth_level",id:"auth_level",children:[(0,v.jsx)("option",{value:"0",children:"ohne"}),(0,v.jsx)("option",{value:"1",children:"Mitglied"}),(0,v.jsx)("option",{value:"2",children:"Vorstand"}),(0,v.jsx)("option",{value:"3",children:"Admin"})]})]}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"nicknames",children:"Kurz:"}),(0,v.jsx)("input",{type:"text",name:"nicknames",id:"nicknames",defaultValue:null===n||void 0===n?void 0:n.Nicknames})]}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"instrument",children:"Instrument:"}),(0,v.jsx)("input",{type:"text",name:"instrument",id:"instrument",defaultValue:null===n||void 0===n?void 0:n.Instrument})]}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("label",{htmlFor:"birthdate",children:"Geburtstag:"}),(0,v.jsx)("input",{type:"date",id:"birthdate",defaultValue:null===n||void 0===n?void 0:n.Birthdate})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(s.default,{onClick:x,children:"Abbrechen"}),(0,v.jsx)(s.default,{onClick:p,children:"Speichern"})]})]})},w=function(e){var n=e.members,t=e.reload,r=(0,o.useState)(-1),a=(0,u.Z)(r,2),i=a[0],l=a[1],s=(0,o.useCallback)((function(){l(-1),t()}),[t]),c=(0,o.useCallback)((function(e){l(e)}),[]);return(0,v.jsxs)(x,{children:[(0,v.jsx)(j,{onSelect:c,members:n}),(0,v.jsx)(k,{member:n.find((function(e){return e.Member_ID===i})),reload:s})]})},y=t(7489),g=(0,o.lazy)((function(){return t.e(880).then(t.bind(t,6880))})),_=function(e){var n=e.view,t=e.members,r=e.reload;switch(n){default:case 0:return(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"\xdcbersicht l\xe4dt"}),children:(0,v.jsx)(g,{members:t})});case 1:return(0,v.jsx)(w,{members:t,reload:r})}},I=function(e){var n=(0,o.useState)(0),t=(0,u.Z)(n,2),r=t[0],a=t[1],c=(0,o.useState)(new Array(0)),d=(0,u.Z)(c,2),m=d[0],f=d[1],p=(0,o.useCallback)((0,l.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Zw)();case 2:n=e.sent,f(void 0!==n?n:new Array(0));case 4:case"end":return e.stop()}}),e)}))),[]);(0,o.useEffect)((function(){p()}),[p]);var x=(0,o.useCallback)((function(){p()}),[p]),b=function(e){switch(e.target.id){default:case"member_button_0":a(0);break;case"member_button_1":a(1)}};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(y.Z,{children:[(0,v.jsx)(s.default,{id:"member_button_0",type:"button",onClick:b,children:"\xdcbersicht"}),e.auth_level>2?(0,v.jsx)(s.default,{id:"member_button_1",type:"button",onClick:b,children:"Stammdaten"}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)(_,{view:r,members:m,reload:x})]})}},71:function(e,n,t){var r,a=t(168),i=t(7924).ZP.form(r||(r=(0,a.Z)(["\n    display: block;\n    width: 100%;\n    padding: 5px;\n"])));n.Z=i},7480:function(e,n,t){var r,a=t(168),i=t(7924).ZP.div(r||(r=(0,a.Z)(["\n    display: block;\n    padding: 2px;\n    label {\n        float: left;\n        width: 25%;\n        min-width: 100px;\n    }\n"])));n.Z=i},97:function(e,n,t){var r,a=t(168),i=t(7924).ZP.nav(r||(r=(0,a.Z)(["\n    margin: 2px;\n    padding: 2px;\n    white-space: nowrap;\n    border: 1px solid ",";\n    border-radius: 10px;\n    overflow-y: scroll;\n    max-height: 75vh;\n    min-width: fit-content;\n    width: auto;\n    max-width: fit-content;\n\n\n    @media (max-width: ",") {\n        white-space: normal;\n    }\n\n    ::-webkit-scrollbar {\n        width: 5px;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: none;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background: ",";\n    }\n"])),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.mobile}),(function(e){return e.theme.primaryLight}),(function(e){return e.theme.primaryHover}));n.Z=i},7489:function(e,n,t){var r,a=t(168),i=t(7924).ZP.nav(r||(r=(0,a.Z)(["\n    display: flex;\n    background-color: ",";\n    position: relative;\n    padding: 5px;\n    margin: 5px;\n    border-radius: 20px;\n\n    flex-wrap: wrap;\n    justify-content: center;\n"])),(function(e){return e.theme.primaryHover}));n.Z=i}}]);
//# sourceMappingURL=796.a7dae7e1.chunk.js.map