{"version":3,"file":"static/js/779.9f95eb3c.chunk.js","mappings":"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","sources":["components/dateplanner/attendenceInput/Termineingabe.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { lazy, Suspense, useCallback, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport SubmitButton from '../../../modules/components/SubmitButton'\nimport { getAttendences, updateAttendences } from '../../../modules/data/DBConnect'\n\nconst AttendenceTable = lazy(() => import('./AttendenceTable'))\n\nconst Termineingabe = ({fullname}) => {\n\n    /**\n     * constant, maybe switch to fetch from server\n     */\n    const ATTENDENCE_STATES = 3\n\n    /**\n     * fetched from server\n     */\n    const [attendences, setAttendences] = useState(new Array(0))\n\n    /**\n     * local states\n     */\n    const [changedAttendences, setChangedAttendences] = useState({})\n    const [selectedDateFilter, setSelectedDateFilter] = useState('all')\n    const [selectedEventFilter, setSelectedEventFilter] = useState('all')\n\n    const fetchEvents = async () => {\n        let _attendences = await getAttendences()\n        if(_attendences !== undefined){\n            setAttendences(_attendences)\n        }\n    }\n\n    const onClick = useCallback((event_id, attendence) => {\n        let att = {...changedAttendences}\n        att['' + event_id] = attendence\n        setChangedAttendences(att)\n    }, [changedAttendences])\n\n    const onDateFilterChange = useCallback(e => {\n        setSelectedDateFilter(e.target.value)\n    }, [setSelectedDateFilter])\n\n    const onEventFilterChange = useCallback(e => {\n        setSelectedEventFilter(e.target.value)\n    }, [setSelectedEventFilter])\n\n    const sendForm = (e) => {\n        e.preventDefault()\n        updateAttendences(changedAttendences)\n        fetchEvents()\n    }\n\n    useEffect(() => {\n        fetchEvents()\n    }, [])\n\n    return(\n        <Form onSubmit={sendForm} className=\"DateInput\">\n            <div>\n                <SubmitButton onClick={sendForm}>Speichern</SubmitButton>\n                <select name='eventSelect' id='eventSelect' title='event select' onChange={onEventFilterChange}>\n                    <option value='all'>Alle</option>\n                    <option value='practice'>Üben/Probe</option>\n                    <option value='else'>Auftritte etc.</option>\n                </select>\n                <select name=\"dateSelect\" id=\"dateSelect\" title='date select' onChange={onDateFilterChange}>\n                    <option value=\"all\">Alle</option>\n                    <option value=\"one\">1 Woche</option>\n                    <option value=\"two\">2 Wochen</option>\n                    <option value=\"four\">4 Wochen</option>\n                    <option value=\"eight\">8 Wochen</option>\n                </select>\n            </div>\n            <Suspense fallback={<div>Tabelle lädt.</div>}>\n                <AttendenceTable attendences={attendences} fullname={fullname} states={ATTENDENCE_STATES} selectedDateFilter={selectedDateFilter} selectedEventFilter={selectedEventFilter} onClick={onClick}/>\n            </Suspense>\n        </Form>\n    )\n}\n\nconst Form = styled.form`\n\n    flex-direction: column;\n\n    @media (max-width: ${({theme}) => theme.mobile}) {\n        padding-bottom: 2rem;\n    }\n    \n    box-sizing: border-box;\n\n    select {\n        padding: 2px;\n        margin: 2px;\n        border-radius: 5px;\n    }\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n    }\n`\n\nexport default Termineingabe","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["AttendenceTable","lazy","Form","styled","theme","mobile","fullname","useState","Array","attendences","setAttendences","changedAttendences","setChangedAttendences","selectedDateFilter","setSelectedDateFilter","selectedEventFilter","setSelectedEventFilter","fetchEvents","getAttendences","undefined","_attendences","onClick","useCallback","event_id","attendence","att","onDateFilterChange","e","target","value","onEventFilterChange","sendForm","preventDefault","updateAttendences","useEffect","onSubmit","className","name","id","title","onChange","Suspense","fallback","states","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}